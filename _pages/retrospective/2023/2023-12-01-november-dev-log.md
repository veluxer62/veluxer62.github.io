---
layout: single
title: "2023년 11월 개발일지"
toc: true
toc_sticky: true
retrospective: true
permalink: /retrospective/2023-november-dev-log/
---

지금 회사에 나를 채용하시고 2년 넘도록 함께 일하신 CTO님께서 갑작스럽게 퇴사소식을 알리셨다. 아마 경영진 분들은 이미 알고 계셨던것 같고(어쩐지 회의에 갑자기 참가하시더라...)팀장님은 조금 더 빨리 아셨던 것 같지만 우리보다 많이는 차이가 나진 않아 보였다. 아무래도 제품팀을 이끌고 계신 실질적인 수장이기도 하였고 다른 팀과 조율을 도맡아 해오시던 분이라 제품팀에게는 적지않은 영향이 미쳤다고 생각된다. 특히 업무적으로나 심리적으로 많이 의존하셨던 팀장님의 충격이 컷던것 같다.

솔직히 좀 빨리 알려주셨으면 좋았겠다는 생각도 들었지만 이미 마음의 결정을 하신 마당에 빨리 이야기를 해주셨다고 한들 큰 차이가 있었나 싶다. 지금 있는 구성원들이 대부분 1년이상 있었던 터라 CTO님이 당장 계시지 않더라도 크게 업무적으로 영향을 미치거나 하지는 않는다고 생각이 들었다. 하지만 나는 CTO님이 기술적으로나 업무적으로 큰도움이 되었다기보다 인사적으로 많은 도움이 되었고 생각이 드는데 챕터간의 업무분쟁이나 감정싸움등을 중재해주시거나 개인면담, 그리고 제품 개발에 대한 중심을 잘 잡아주시고 계셨는데 CTO님께서 부재하시게 되면 이러한 부분을 챙겨주실 분이 계시지 않게 되므로 가랑비에 옷 젖듯이 알게모르게 제품팀의 제품 개발 문화가 기존에 비해 퇴화할까 우려가 되긴한다.

그건 우리의 문제고 아무튼 서운함 감정이 들긴하지만 CTO님의 결정을 존중하고 응원한다. 언젠가 또 만날날이 오겠지.

<br/>

잇다른 경영진의 퇴사(저번달에 CFO님 퇴사, 이번달은 CTO님 퇴사)로 인해 대표님들도 뭔가 분위기 전환이 필요하다고 생각하신듯 하다. 그래서 입사이래 처음으로 전사 워크샵을 가게 되었다. 

비발디 파크로 워크샵을 가게 되었는데 코로나 이전에 워터파크에 놀러가면서 본적은 있었는데 투숙을 해보기는 처음이다. 생각했던 것보다 훨씬 크고 부대시설이 잘되어있어서 깜짝놀랬다. 하긴 여름엔 워터파크 이용고객이 많을 것이고 겨울엔 스키이용고객이 많을 테니 부대시설이 잘되어 있는게 당연할지도 모르겠다.

이번 워크샵은 몇번 가보진 않았지만 지금까지 가보았던 워크샵중에 가장 호화스러운(?)워크샵이었다. 숙소도 2인 1실로 엄청 쾌적한 잠자리가 제공되었고 펜션에서 고기 구어먹는(그것도 나름 괜찮지만) 식사가 아닌 식당에서 차려주는 식사를 하고 한끼는 한우까지 먹는 호사(?)를 누렸다.

프로그램은 워크샵이라고 하기엔 조금애매한 플레이샵이 섞인 느낌으로 진행되었는데 가장 기억에 남았던 프로그램은 모두가 제품에 대한 아이디어를 내어서 제품 개발 기획을 하는 프로그램이었다. 대부분 우리 제품에 대한 문제점을 비슷하게 인식하고 있었고 당장은 힘들지만 나름 괜찮은 아이디어도 많이 나왔어서 유익했던 시간이었다.

<br/>

예정된 수순이었을까 CTO님께서 퇴사하시고 얼마지나지 않아 데이터분석가인 토드님이 퇴사를 하시게 되었다. CTO님께서 데이터팀 팀장을 겸직하고 계신터라 CTO님께서 퇴사하시고 혼자가 되신 토드님이 퇴사를 결정하신것은 어느정도 예상가능한 일이었다.

토드님이 오시고 회사에서는 데이터를 바라보는 시각이 많이 바뀌게 되었는데 그런 의미에서 토드님께서 정말 업무를 잘해주셨고 회사에 큰 기여를 하셨다고 생각한다. 아쉬웠던 것은 토드님께서 지속적으로 데이터 분석가의 충원 요청을 해주셨는데 회사에서는 이러한 의견이 반영되지 않았다는 것이었다. 회사로써도 나름 생각이 있어 그러한 결정을 하였겠지만 그러한 결정으로 인해 토드님이 퇴사를 하셔서 지금은 데이터 분석가가 부재인 상황이니 좋은 결정은 아니었다고 생각이 든다.

이런 상황을 보면 인력관리라는게 참 어려운 것 같다라는 생각이 든다. 물위를 떠다니는 오리처럼 멀리서 보기엔 1명만 있어도 업무가 평온하게 잘 돌아가는 것처럼 보이지만 막상 깊이 들여다보면 1명이서 고군분투를 하고 있는 것이다. 그래서 1명의 추가 인력을 요청하는 것인데 회사입장에서는 여유로워 보이는 상황에서 인력을 충원해줄리가 없기 때문이다. 그래서 관리자가 깊이 들여다 보는 노력을 항상 기울여야하는데 아무래도 겸직을 하다보니 다른 업무 우선순위로 인해 이러한 부분을 놓친게 아닌가 싶다.

아무튼 지금 새로운 데이터분석가를 모집하고 있는 상황인데 새로오신분은 잘 관리가 되어서 혼자서 힘들게 업무를 이어가다 금방 퇴사하는 상황은 반복하지 않았으면 한다.

<br/>

집주인이 전세값을 올리겠다고 연락이 왔다. 결혼하고 지금까지 8년정도를 이집에서 살고 있는데 이전이야 집값이 오르던 때라 전세값을 올려도 그러려니 했는데 요즘 전세값이 내리는 추세인데도 전세금을 올린다고 하니 더이상은 있을 수가 없었다. 지금집이 비록 좁기는 해도 지하철역 근처라 교통이 너무 좋아 다른곳을 굳이 알아보지는 않고 있었다. 하지만 아내도 이제는 진짜 이사를 가고 싶다고 하고 나도 전세금을 더이상 올리는것은 아니라고 생각해서 이사를 결심하게 되었다.

아내는 이번에는 꼭 아파트로 입주하고 싶다고 해서 교통을 조금 포기하고 구축이라도 아파트에 가기로 결정하였다. 처음에는 강동쪽으로 아파트를 알아보았는데 우리가 생각했던 금액대의 아파트를 찾는것은 여간 쉬운게 아니었다. 서울 집값이 왜이렇게 비싼지.... 그나마 가격이 적당하면 아파트가 너무 오래되었고 그런게 아니라면 층수가 좋지 않거나 세대수가 적다는 등 낮은 가격은 할만한 이유들이 다 있었다.

다음에는 강동이 아닌 봉천동쪽을 알아보았는데 이쪽은 2호선라인이라 교통은 강동보다는 좋지만 언덕이 있어 평지인 강동보다 좋은 입지는 아니었다. 가격이 저렴한 곳은 거의 산꼭대기에 있었고 같은 아파트라도 가격이 저렴하면 높은 언덕쪽에 위치하였다. 그나마도 구축 아파트라 임장을 다니면서 많은 한숨을 쉬었던 기억이 난다.

결국 아직까지 아무결정을 하지 못했다. 이럴꺼면 차라리 천안에서 출퇴근할까라는 생각도 드는 요즘이다.

<br/>

아래는 11월동안 정리한 이슈 내용들이다.

## YearMonth

`java.time` 모듈에 YearMonth라는 자료형이 있다는 것을 알게되었다. 대부분 일자를 나타내는 자료형으로 `LocalDate`객체를 사용하였는데 월을 나타내는 자료형에 `LocalDate`객체로 `2023-11-01`값을 넣는게 별로라고 생각이 들어 찾다보니 `YearMonth`객체를 찾게 된 것이다.

JPA에서는 Entity의 컬럼 타입으로 `YearMonth`객체는 지원하지 않는데 아래와 같이 Converter를 등록해서 사용할 수 있다.

```kotlin
@Converter(autoApply = true)
object YearMonthConverter : AttributeConverter<YearMonth, Date> {
    override fun convertToDatabaseColumn(attribute: YearMonth): Date {
        return Date.valueOf(attribute.atDay(1))
    }

    override fun convertToEntityAttribute(dbData: Date): YearMonth {
        return YearMonth.from(dbData.toLocalDate())
    }
}
```

## YearMoth 차이 계산

YearMonth 의 월 차이를 계산하려면 아래와 같이 하면된다.

```
val gap = billingMonth.until(appliedDate, ChronoUnit.MONTHS).absoluteValue
```
